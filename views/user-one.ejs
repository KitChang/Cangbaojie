<div class="container content">
    <div class="row">
                <div class="panel panel-dashboard full-width" >
                    <ol class="breadcrumb panel-heading panel-heading-cbj">
                      <li><a href='/user'>员工账户</a></li>
                        <li>账户编辑</li>
                    </ol>  
                    <div class="panel-body">
                        <form class="form-horizontal" id="form" name="form" action="/user/<%=req.param('id')%>" method="post" onSubmit="return onSubmit();">                
                        <div class="form-group">
                        <label class="control-label col-sm-2" for="username">用户名 <span class="mandatory">*</span></label>
                        <div class="col-sm-10">
                            <input type="text" id="username" name="username" class="form-control" disabled value="<%=result.username%>">
                        </div>
                        </div>
                        <div class="form-group">
                        <label class="control-label col-sm-2" for="password">密码</label>
                        <div class="col-sm-10">
                            <input type="text" id="password" name="password" class="form-control" value=""><label>更改密码</label>
                            <input type="checkbox" name="changePassword" value="change">
                        </div>
                        </div>
                        <div class="form-group">
                        <label class="control-label col-sm-2" for="role">角色 <span class="mandatory">*</span></label>
                        <div class="col-sm-10">
                            <select id="role" name="role" class="form-control">
                            <option></option>

                        </select>
                        </div>
                        </div>
                        <input type="button" class="btn btn-default right" onClick="javascript:window.history.back()" value="取消"/>  
                        <input type="submit" class="btn btn-primary right" value="更新" />

                        </form>
                    </div>
                </div>              
        </div>
</div>
<script type="text/javascript" src="/js/dependencies/jquery.min.js"></script>
<script type="text/javascript" src="/bootstrap/js/bootstrap.min.js"></script>
<script>
['admin', 'user'].forEach(function(elem, index){
    var elem_cn;
    if(elem=='admin')
        elem_cn = "管理员";
    if(elem=='user')
        elem_cn = "用户";
    if(elem=="<%=result.role%>")
        $("#role").append("<option selected value='"+elem+"'>"+elem_cn+"</option>");
    else
        $("#role").append("<option value='"+elem+"'>"+elem_cn+"</option>");
});
</script>
<script>
    function onSubmit(){
        var username = $("#username").val();
        var password = $("#password").val();
        var role = $("#role").val();
        var message = [];
        if($.trim(username)==""||$.trim(password)==""||$.trim(role)=="")
            message.push("输入不完整");
        if(message.length){
            alert(message.join("\n"));
            return false;
        }
        return true;
    }

</script>
